EESchema Schematic File Version 2
LIBS:oh_stepper_driver-rescue
LIBS:power
LIBS:device
LIBS:transistors
LIBS:conn
LIBS:linear
LIBS:regul
LIBS:74xx
LIBS:cmos4000
LIBS:adc-dac
LIBS:memory
LIBS:xilinx
LIBS:microcontrollers
LIBS:dsp
LIBS:microchip
LIBS:analog_switches
LIBS:motorola
LIBS:texas
LIBS:intel
LIBS:audio
LIBS:interface
LIBS:digital-audio
LIBS:philips
LIBS:display
LIBS:cypress
LIBS:siliconi
LIBS:opto
LIBS:atmel
LIBS:contrib
LIBS:valves
LIBS:csd18531q5a
LIBS:drv8711
LIBS:stm32f446_lqfp64
LIBS:abm8g
LIBS:oh_stepper_driver-cache
EELAYER 26 0
EELAYER END
$Descr A4 11693 8268
encoding utf-8
Sheet 1 3
Title ""
Date ""
Rev ""
Comp ""
Comment1 ""
Comment2 ""
Comment3 ""
Comment4 ""
$EndDescr
$Comp
L GND #PWR01
U 1 1 587AE5B3
P 1400 7200
F 0 "#PWR01" H 1400 6950 50  0001 C CNN
F 1 "GND" H 1405 7027 50  0000 C CNN
F 2 "" H 1400 7200 50  0000 C CNN
F 3 "" H 1400 7200 50  0000 C CNN
	1    1400 7200
	-1   0    0    -1  
$EndComp
$Comp
L VM #PWR02
U 1 1 587AE5B4
P 1400 6950
F 0 "#PWR02" H 1400 6800 50  0001 C CNN
F 1 "VM" H 1415 7123 50  0000 C CNN
F 2 "" H 1400 6950 50  0000 C CNN
F 3 "" H 1400 6950 50  0000 C CNN
	1    1400 6950
	-1   0    0    -1  
$EndComp
$Comp
L CONN_01X02 P2
U 1 1 587B659B
P 1050 7050
F 0 "P2" H 1128 7091 50  0000 L CNN
F 1 "CONN_01X02" H 1128 7000 50  0000 L CNN
F 2 "Connectors:bornier2" H 1050 7050 50  0001 C CNN
F 3 "" H 1050 7050 50  0000 C CNN
	1    1050 7050
	-1   0    0    -1  
$EndComp
$Comp
L GND #PWR03
U 1 1 587BB2AD
P 2400 7200
F 0 "#PWR03" H 2400 6950 50  0001 C CNN
F 1 "GND" H 2405 7027 50  0000 C CNN
F 2 "" H 2400 7200 50  0000 C CNN
F 3 "" H 2400 7200 50  0000 C CNN
	1    2400 7200
	-1   0    0    -1  
$EndComp
$Comp
L VM #PWR04
U 1 1 587BB2B3
P 2400 6950
F 0 "#PWR04" H 2400 6800 50  0001 C CNN
F 1 "VM" H 2415 7123 50  0000 C CNN
F 2 "" H 2400 6950 50  0000 C CNN
F 3 "" H 2400 6950 50  0000 C CNN
	1    2400 6950
	-1   0    0    -1  
$EndComp
$Comp
L CONN_01X02 P3
U 1 1 587BB2BD
P 2050 7050
F 0 "P3" H 2128 7091 50  0000 L CNN
F 1 "CONN_01X02" H 2128 7000 50  0000 L CNN
F 2 "Connectors:bornier2" H 2050 7050 50  0001 C CNN
F 3 "" H 2050 7050 50  0000 C CNN
	1    2050 7050
	-1   0    0    -1  
$EndComp
$Comp
L CP1 C6
U 1 1 587C438D
P 3000 7150
F 0 "C6" H 3115 7196 50  0000 L CNN
F 1 "100uF" H 3115 7105 50  0000 L CNN
F 2 "" H 3000 7150 50  0000 C CNN
F 3 "" H 3000 7150 50  0000 C CNN
	1    3000 7150
	1    0    0    -1  
$EndComp
Text Notes 4800 6950 0    60   ~ 0
100uF: EMVY101ARA101MKE0S \n10uF:  22201C106MAT2A 
$Comp
L C_Small C9
U 1 1 587C4622
P 4400 7150
F 0 "C9" H 4492 7196 50  0000 L CNN
F 1 "0.01uF" H 4492 7105 50  0000 L CNN
F 2 "Capacitors_SMD:C_0603" H 4400 7150 50  0001 C CNN
F 3 "" H 4400 7150 50  0000 C CNN
	1    4400 7150
	1    0    0    -1  
$EndComp
$Comp
L C_Small C8
U 1 1 587C46C4
P 4000 7150
F 0 "C8" H 4092 7196 50  0000 L CNN
F 1 "0.1uF" H 4092 7105 50  0000 L CNN
F 2 "Capacitors_SMD:C_0603" H 4000 7150 50  0001 C CNN
F 3 "" H 4000 7150 50  0000 C CNN
	1    4000 7150
	1    0    0    -1  
$EndComp
$Comp
L C_Small C7
U 1 1 587C4987
P 3550 7150
F 0 "C7" H 3642 7196 50  0000 L CNN
F 1 "10uF" H 3642 7105 50  0000 L CNN
F 2 "Capacitors_SMD:C_2220" H 3550 7150 50  0001 C CNN
F 3 "" H 3550 7150 50  0000 C CNN
	1    3550 7150
	1    0    0    -1  
$EndComp
$Comp
L GND #PWR05
U 1 1 587BC837
P 3000 7550
F 0 "#PWR05" H 3000 7300 50  0001 C CNN
F 1 "GND" H 3005 7377 50  0000 C CNN
F 2 "" H 3000 7550 50  0000 C CNN
F 3 "" H 3000 7550 50  0000 C CNN
	1    3000 7550
	-1   0    0    -1  
$EndComp
$Comp
L VM #PWR06
U 1 1 587BC83D
P 3000 6850
F 0 "#PWR06" H 3000 6700 50  0001 C CNN
F 1 "VM" H 3015 7023 50  0000 C CNN
F 2 "" H 3000 6850 50  0000 C CNN
F 3 "" H 3000 6850 50  0000 C CNN
	1    3000 6850
	-1   0    0    -1  
$EndComp
$Sheet
S 8125 2875 2125 1400
U 587C13C8
F0 "DRV8711" 60
F1 "DRV8711.sch" 60
F2 "SLEEPn" I L 8125 3000 60 
F3 "RESET" I L 8125 3100 60 
F4 "STEP_AIN1" I L 8125 3200 60 
F5 "DIR_AIN2" I L 8125 3300 60 
F6 "BIN1" I L 8125 3400 60 
F7 "BIN2" I L 8125 3500 60 
F8 "SCLK" I L 8125 3600 60 
F9 "SDATI" I L 8125 3700 60 
F10 "SCS" I L 8125 3800 60 
F11 "SDATAO" O L 8125 3900 60 
F12 "FAULTn" O L 8125 4000 60 
F13 "STALLn" O L 8125 4100 60 
$EndSheet
$Comp
L STM32F446RCTx U2
U 1 1 587C3B30
P 3850 3600
F 0 "U2" H 2950 5550 50  0000 C CNN
F 1 "STM32F446RCTx" H 3850 3600 50  0000 C CNN
F 2 "Housings_QFP:LQFP-64_10x10mm_Pitch0.5mm" H 3862 5686 50  0001 C CNN
F 3 "" H 3800 3600 50  0000 C CNN
	1    3850 3600
	1    0    0    -1  
$EndComp
$Comp
L ABM8G X1
U 1 1 587F2A0B
P 1125 3325
F 0 "X1" H 1050 3500 60  0000 C CNN
F 1 "ABM8G" H 1125 3175 60  0000 C CNN
F 2 "SMD:ASDMB" H 1125 3325 60  0001 C CNN
F 3 "" H 1125 3325 60  0001 C CNN
	1    1125 3325
	1    0    0    -1  
$EndComp
$Comp
L C_Small C13
U 1 1 587F2D1A
P 1425 3875
F 0 "C13" H 1517 3921 50  0000 L CNN
F 1 "10pF" H 1517 3830 50  0000 L CNN
F 2 "Capacitors_SMD:C_0402" H 1517 3784 50  0001 L CNN
F 3 "" H 1425 3875 50  0000 C CNN
	1    1425 3875
	1    0    0    -1  
$EndComp
$Comp
L C_Small C10
U 1 1 587F2E99
P 825 3875
F 0 "C10" H 917 3921 50  0000 L CNN
F 1 "10pF" H 917 3830 50  0000 L CNN
F 2 "Capacitors_SMD:C_0402" H 917 3784 50  0001 L CNN
F 3 "" H 825 3875 50  0000 C CNN
	1    825  3875
	1    0    0    -1  
$EndComp
$Comp
L C_Small C12
U 1 1 587F3123
P 1375 1175
F 0 "C12" H 1467 1221 50  0000 L CNN
F 1 "2.2uF" H 1467 1130 50  0000 L CNN
F 2 "Capacitors_SMD:C_0402" H 1467 1084 50  0001 L CNN
F 3 "" H 1375 1175 50  0000 C CNN
	1    1375 1175
	1    0    0    -1  
$EndComp
$Comp
L C_Small C14
U 1 1 587F3193
P 1800 1175
F 0 "C14" H 1892 1221 50  0000 L CNN
F 1 "2.2uF" H 1892 1130 50  0000 L CNN
F 2 "Capacitors_SMD:C_0402" H 1892 1084 50  0001 L CNN
F 3 "" H 1800 1175 50  0000 C CNN
	1    1800 1175
	1    0    0    -1  
$EndComp
$Comp
L C_Small C11
U 1 1 587F321B
P 875 2100
F 0 "C11" H 967 2146 50  0000 L CNN
F 1 "100nF" H 967 2055 50  0000 L CNN
F 2 "Capacitors_SMD:C_0402" H 967 2009 50  0001 L CNN
F 3 "" H 875 2100 50  0000 C CNN
	1    875  2100
	1    0    0    -1  
$EndComp
$Comp
L R R13
U 1 1 587F34F0
P 1050 2450
F 0 "R13" H 1120 2496 50  0000 L CNN
F 1 "47k" H 1120 2405 50  0000 L CNN
F 2 "Resistors_SMD:R_0402" V 980 2450 50  0001 C CNN
F 3 "" H 1050 2450 50  0000 C CNN
	1    1050 2450
	1    0    0    -1  
$EndComp
$Comp
L GND #PWR07
U 1 1 587F36E3
P 1050 2675
F 0 "#PWR07" H 1050 2425 50  0001 C CNN
F 1 "GND" H 1055 2502 50  0000 C CNN
F 2 "" H 1050 2675 50  0000 C CNN
F 3 "" H 1050 2675 50  0000 C CNN
	1    1050 2675
	1    0    0    -1  
$EndComp
$Comp
L GND #PWR08
U 1 1 587F3A6D
P 1125 4150
F 0 "#PWR08" H 1125 3900 50  0001 C CNN
F 1 "GND" H 1130 3977 50  0000 C CNN
F 2 "" H 1125 4150 50  0000 C CNN
F 3 "" H 1125 4150 50  0000 C CNN
	1    1125 4150
	1    0    0    -1  
$EndComp
$Comp
L GND #PWR09
U 1 1 587F4021
P 3800 5675
F 0 "#PWR09" H 3800 5425 50  0001 C CNN
F 1 "GND" H 3805 5502 50  0000 C CNN
F 2 "" H 3800 5675 50  0000 C CNN
F 3 "" H 3800 5675 50  0000 C CNN
	1    3800 5675
	1    0    0    -1  
$EndComp
$Comp
L +3V3 #PWR010
U 1 1 587F4D80
P 3700 1400
F 0 "#PWR010" H 3700 1250 50  0001 C CNN
F 1 "+3V3" H 3715 1573 50  0000 C CNN
F 2 "" H 3700 1400 50  0000 C CNN
F 3 "" H 3700 1400 50  0000 C CNN
	1    3700 1400
	1    0    0    -1  
$EndComp
$Comp
L C_Small C15
U 1 1 587F4FCA
P 5375 1475
F 0 "C15" H 5467 1521 50  0000 L CNN
F 1 "100nF" H 5467 1430 50  0000 L CNN
F 2 "Capacitors_SMD:C_0402" H 5467 1384 50  0001 L CNN
F 3 "" H 5375 1475 50  0000 C CNN
	1    5375 1475
	1    0    0    -1  
$EndComp
$Comp
L C_Small C16
U 1 1 587F5042
P 5800 1475
F 0 "C16" H 5892 1521 50  0000 L CNN
F 1 "100nF" H 5892 1430 50  0000 L CNN
F 2 "Capacitors_SMD:C_0402" H 5892 1384 50  0001 L CNN
F 3 "" H 5800 1475 50  0000 C CNN
	1    5800 1475
	1    0    0    -1  
$EndComp
$Comp
L C_Small C17
U 1 1 587F50F4
P 6225 1475
F 0 "C17" H 6317 1521 50  0000 L CNN
F 1 "100nF" H 6317 1430 50  0000 L CNN
F 2 "Capacitors_SMD:C_0402" H 6317 1384 50  0001 L CNN
F 3 "" H 6225 1475 50  0000 C CNN
	1    6225 1475
	1    0    0    -1  
$EndComp
$Comp
L C_Small C18
U 1 1 587F50FA
P 6650 1475
F 0 "C18" H 6742 1521 50  0000 L CNN
F 1 "100nF" H 6742 1430 50  0000 L CNN
F 2 "Capacitors_SMD:C_0402" H 6742 1384 50  0001 L CNN
F 3 "" H 6650 1475 50  0000 C CNN
	1    6650 1475
	1    0    0    -1  
$EndComp
$Comp
L +3V3 #PWR011
U 1 1 587F53E0
P 5375 1250
F 0 "#PWR011" H 5375 1100 50  0001 C CNN
F 1 "+3V3" H 5390 1423 50  0000 C CNN
F 2 "" H 5375 1250 50  0000 C CNN
F 3 "" H 5375 1250 50  0000 C CNN
	1    5375 1250
	1    0    0    -1  
$EndComp
$Comp
L GND #PWR012
U 1 1 587F53FA
P 5375 1700
F 0 "#PWR012" H 5375 1450 50  0001 C CNN
F 1 "GND" H 5380 1527 50  0000 C CNN
F 2 "" H 5375 1700 50  0000 C CNN
F 3 "" H 5375 1700 50  0000 C CNN
	1    5375 1700
	1    0    0    -1  
$EndComp
Wire Wire Line
	1250 7100 1400 7100
Wire Wire Line
	1400 7100 1400 7200
Wire Wire Line
	1400 6950 1400 7000
Wire Wire Line
	1400 7000 1250 7000
Wire Wire Line
	2250 7100 2400 7100
Wire Wire Line
	2400 7100 2400 7200
Wire Wire Line
	2400 6950 2400 7000
Wire Wire Line
	2400 7000 2250 7000
Wire Wire Line
	4400 6900 4400 7050
Wire Wire Line
	3000 6900 4400 6900
Wire Wire Line
	3000 6850 3000 7000
Wire Wire Line
	3550 7050 3550 6900
Connection ~ 3550 6900
Wire Wire Line
	4000 7050 4000 6900
Connection ~ 4000 6900
Wire Wire Line
	3000 7300 3000 7550
Wire Wire Line
	3000 7450 4400 7450
Wire Wire Line
	4400 7450 4400 7250
Wire Wire Line
	4000 7250 4000 7450
Connection ~ 4000 7450
Wire Wire Line
	3550 7250 3550 7450
Connection ~ 3550 7450
Wire Wire Line
	825  3325 825  3775
Wire Wire Line
	1075 3725 1075 3775
Wire Wire Line
	1075 3775 1175 3775
Wire Wire Line
	1175 3775 1175 3725
Wire Wire Line
	1425 3200 1425 3775
Wire Wire Line
	1125 3775 1125 4150
Connection ~ 1125 3775
Wire Wire Line
	825  3975 825  4075
Wire Wire Line
	825  4075 1425 4075
Connection ~ 1125 4075
Wire Wire Line
	1425 4075 1425 3975
Wire Wire Line
	2825 3200 1425 3200
Connection ~ 1425 3325
Wire Wire Line
	2825 3100 825  3100
Wire Wire Line
	825  3100 825  3350
Connection ~ 825  3350
Wire Wire Line
	3650 5500 3650 5600
Connection ~ 3850 5600
Wire Wire Line
	4050 5675 4050 5500
Wire Wire Line
	3950 5600 3950 5500
Wire Wire Line
	3750 5500 3750 5600
Connection ~ 3750 5600
Wire Wire Line
	1050 2200 1050 2300
Wire Wire Line
	1050 2600 1050 2675
Wire Wire Line
	2825 2200 1050 2200
Wire Wire Line
	875  2000 2825 2000
Wire Wire Line
	875  2200 875  2650
Wire Wire Line
	875  2650 1050 2650
Connection ~ 1050 2650
Wire Wire Line
	4100 1375 4100 1600
Wire Wire Line
	3700 1400 3700 1600
Wire Wire Line
	3800 1600 3800 1500
Connection ~ 3800 1500
Wire Wire Line
	3900 1500 3900 1600
Connection ~ 3900 1500
Wire Wire Line
	4000 1500 4000 1600
Connection ~ 3700 1500
Wire Wire Line
	6650 1300 6650 1375
Wire Wire Line
	5375 1300 6650 1300
Wire Wire Line
	5375 1250 5375 1375
Wire Wire Line
	5375 1575 5375 1700
Wire Wire Line
	5375 1675 6650 1675
Wire Wire Line
	6650 1675 6650 1575
Wire Wire Line
	6225 1375 6225 1300
Connection ~ 6225 1300
Wire Wire Line
	5800 1375 5800 1300
Connection ~ 5800 1300
Wire Wire Line
	5800 1575 5800 1675
Connection ~ 5800 1675
Wire Wire Line
	6225 1575 6225 1675
Connection ~ 6225 1675
Connection ~ 5375 1675
Connection ~ 5375 1300
Wire Wire Line
	3700 1500 4000 1500
$Comp
L C_Small C19
U 1 1 587F5A85
P 7100 1450
F 0 "C19" H 7192 1496 50  0000 L CNN
F 1 "100nF" H 7192 1405 50  0000 L CNN
F 2 "Capacitors_SMD:C_0402" H 7192 1359 50  0001 L CNN
F 3 "" H 7100 1450 50  0000 C CNN
	1    7100 1450
	1    0    0    -1  
$EndComp
$Comp
L +3.3VADC #PWR013
U 1 1 587F5AA0
P 7100 1275
F 0 "#PWR013" H 7250 1225 50  0001 C CNN
F 1 "+3.3VADC" H 7120 1418 50  0000 C CNN
F 2 "" H 7100 1275 50  0000 C CNN
F 3 "" H 7100 1275 50  0000 C CNN
	1    7100 1275
	1    0    0    -1  
$EndComp
$Comp
L GNDA #PWR014
U 1 1 587F5ADA
P 7100 1600
F 0 "#PWR014" H 7100 1350 50  0001 C CNN
F 1 "GNDA" H 7105 1427 50  0000 C CNN
F 2 "" H 7100 1600 50  0000 C CNN
F 3 "" H 7100 1600 50  0000 C CNN
	1    7100 1600
	1    0    0    -1  
$EndComp
Wire Wire Line
	7100 1275 7100 1350
Wire Wire Line
	7100 1550 7100 1600
$Comp
L +3.3VADC #PWR015
U 1 1 587F5C3A
P 4100 1375
F 0 "#PWR015" H 4250 1325 50  0001 C CNN
F 1 "+3.3VADC" H 4120 1518 50  0000 C CNN
F 2 "" H 4100 1375 50  0000 C CNN
F 3 "" H 4100 1375 50  0000 C CNN
	1    4100 1375
	1    0    0    -1  
$EndComp
Wire Wire Line
	3650 5600 3950 5600
Wire Wire Line
	3850 5500 3850 5600
Wire Wire Line
	3800 5675 3800 5600
Connection ~ 3800 5600
$Comp
L GNDA #PWR016
U 1 1 587F63C7
P 4050 5675
F 0 "#PWR016" H 4050 5425 50  0001 C CNN
F 1 "GNDA" H 4055 5502 50  0000 C CNN
F 2 "" H 4050 5675 50  0000 C CNN
F 3 "" H 4050 5675 50  0000 C CNN
	1    4050 5675
	1    0    0    -1  
$EndComp
Wire Wire Line
	8125 3000 7450 3000
Text Label 7450 3000 0    60   ~ 0
SLEEPn
Wire Wire Line
	8125 3100 7450 3100
Wire Wire Line
	8125 3200 7450 3200
Text Label 7450 3200 0    60   ~ 0
STEP_AIN1
Wire Wire Line
	8125 3300 7450 3300
Wire Wire Line
	8125 3400 7450 3400
Text Label 7450 3400 0    60   ~ 0
BIN1
Wire Wire Line
	8125 3500 7450 3500
Wire Wire Line
	8125 3600 7450 3600
Text Label 7450 3600 0    60   ~ 0
SCLK
Wire Wire Line
	8125 3700 7450 3700
Wire Wire Line
	8125 3800 7450 3800
Text Label 7450 3800 0    60   ~ 0
SCS
Wire Wire Line
	8125 3900 7450 3900
Wire Wire Line
	8125 4000 7450 4000
Text Label 7450 4000 0    60   ~ 0
FAULTn
Wire Wire Line
	8125 4100 7450 4100
Text Label 7450 4100 0    60   ~ 0
STALLn
Text Label 7450 3900 0    60   ~ 0
SDATAO
Text Label 7450 3700 0    60   ~ 0
SDATI
Text Label 7450 3500 0    60   ~ 0
BIN2
Text Label 7450 3300 0    60   ~ 0
DIR_AIN2
Text Label 7450 3100 0    60   ~ 0
RESET
Wire Wire Line
	4900 4500 5575 4500
Text Label 5575 4500 2    60   ~ 0
SLEEPn
Wire Wire Line
	4900 4400 5575 4400
Wire Wire Line
	4900 4300 5575 4300
Text Label 5575 4300 2    60   ~ 0
STEP_AIN1
Wire Wire Line
	4900 4200 5575 4200
Wire Wire Line
	4900 4100 5575 4100
Text Label 5575 4100 2    60   ~ 0
BIN1
Wire Wire Line
	4900 4000 5575 4000
Wire Wire Line
	2825 3400 2150 3400
Text Label 2150 3400 0    60   ~ 0
SCLK
Wire Wire Line
	2825 4800 2150 4800
Wire Wire Line
	2825 4700 2150 4700
Text Label 2150 4700 0    60   ~ 0
SCS
Wire Wire Line
	2825 4600 2150 4600
Wire Wire Line
	4900 3500 5575 3500
Text Label 5575 3500 2    60   ~ 0
FAULTn
Wire Wire Line
	4900 3400 5575 3400
Text Label 5575 3400 2    60   ~ 0
STALLn
Text Label 2150 4600 0    60   ~ 0
SDATAO
Text Label 2150 4800 0    60   ~ 0
SDATI
Text Label 5575 4000 2    60   ~ 0
BIN2
Text Label 5575 4200 2    60   ~ 0
DIR_AIN2
Text Label 5575 4400 2    60   ~ 0
RESET
$EndSCHEMATC
